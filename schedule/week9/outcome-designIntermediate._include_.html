<p><span class="dimmed"><strong>How Polymorphism Works:</strong></span></p>
<panel type="info" header="`W9.2a` Can explain substitutability :star::star::star:" expanded="" no-close="">
  <div>
    <div>
      <p>
        <panel src="/website-base\book\oopDesign\inheritance\what\unit-inElsewhere-asFlat._include_.html" header="%%<span class='glyphicon glyphicon-education' aria-hidden='true'></span> Design ‚Üí Object Oriented Programming ‚Üí Inheritance ‚Üí What%%" isOpen="false"
          no-close="true" no-switch="true"></panel>
      </p>
    </div>
    <p></p>
    <p><span class="dimmed"><strong><span>Design ‚Üí Object Oriented Programming ‚Üí Inheritance ‚Üí
</span></strong>
      </span>
    </p>
    <div id="title-and-body">
      <div>
        <h4 id="substitutability-two">Substitutability <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0032-20e3.png"></h4>
      </div>
      <div id="main">
        <div>
          <p><strong>Every instance of a subclass is an instance of the superclass, but not vice-versa.</strong> As a result, inheritance allows <em>substitutability</em> : the ability to substitute a child class object where a parent class object is expected.</p>
          <tip-box>
            <img src="/website-base/book/oopDesign/inheritance/substitutability/images/staff.png" height="80">
            <p></p>
            <p>üì¶ an <code>Academic</code> is an instance of a <code>Staff</code>, but a <code>Staff</code> is not necessarily an instance of an <code>Academic</code>. i.e. wherever an object of the superclass is expected, it can be substituted by an object
              of any of its subclasses.</p>
            <p>The following code is valid because an <code>AcademicStaff</code> object is substitutable as a <code>Staff</code> object.</p>
            <pre><code class="hljs java">Staff staff = <span class="hljs-keyword">new</span> AcademicStaff (); <span class="hljs-comment">// OK</span>
</code></pre>
            <p>But the following code is not valid <span class="dimmed">¬†because <code>staff</code> is declared as a <code>Staff</code> type and therefore its value may or may not be of  type <code>AcademicStaff</code>, which is the type expected by variable <code>academicStaff</code>.</span></p>
            <pre class="hljs"><code>Staff staff;
...
AcademicStaff academicStaff = staff; // Not OK
</code></pre>
          </tip-box>
        </div>
        <div></div>
      </div>
    </div>
  </div>
</panel>
<panel type="info" header="`W9.2b` Can explain dynamic and static binding :star::star::star:" expanded="" no-close="">
  <div>
    <div></div>
    <p></p>
    <p><span class="dimmed"><strong><span>Design ‚Üí Object Oriented Programming ‚Üí Inheritance ‚Üí
</span></strong>
      </span>
    </p>
    <div id="title-and-body">
      <div>
        <h4 id="dynamic-and-static-binding-three">Dynamic and Static Binding <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0033-20e3.png"></h4>
      </div>
      <div id="main">
        <div>
          <tip-box type="definition">
          
            <div>
              <p><strong>Dynamic Binding</strong> (
                <tooltip content="There are subtle differences between late binding and dynamic binding, but they are beyond the scope of this document">aka late binding</tooltip>) : a mechanism where method calls in code are
                <tooltip content="deciding which method implementation to execure">resolved</tooltip> at
                <tooltip content="at the moment the method call is executed">runtime</tooltip>, rather than at compile time.</p>
            </div>
          </tip-box>
          <p><strong><trigger trigger="click" for="modal:dynamicAndStatic-overriding">Overridden methods</trigger> are resolved using dynamic binding, and therefore resolves to the implementation in the actual type of the object.</strong></p>
          <modal large="" title="Textbook ¬ª" id="modal:dynamicAndStatic-overriding">
          
            <div>
              <div>
                <p>
                  <panel src="/website-base\book\oopDesign\inheritance\overriding\unit-inElsewhere-asFlat._include_.html" header="%%<span class='glyphicon glyphicon-education' aria-hidden='true'></span> OOP ‚Üí Inheritance ‚Üí Overriding%%" isOpen="false" no-close="true"
                    no-switch="true"></panel>
                </p>
              </div>
              <p></p>
              <p><span class="dimmed"><strong><span>Implementation ‚Üí Object Oriented Programming ‚Üí
</span></strong>
                </span>
              </p>
              <div id="title-and-body">
                <div>
                  <h4 id="implementing-overriding-one">Implementing Overriding <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0031-20e3.png"></h4>
                </div>
                <div id="main">
                  <div>
                    <p><strong>To override a method inherited from an ancestor class, simply re-implement the method in the target class.</strong></p>
                    <tabs>
                    
                      <tab header="Java">
                        <div>
                          <tip-box>
                            <p>üì¶ A simple example where the <code>Report#print()</code> method is overridden by <code>EvaluationReport#print()</code> method:</p>
                            <pre><code class="hljs java">
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Report</span></span>{

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span></span>{
        System.out.println(<span class="hljs-string">"Printing report"</span>);
    }

}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EvaluationReport</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Report</span></span>{

    <span class="hljs-meta">@Override</span>  <span class="hljs-comment">// this annotation is optional</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span></span>{
        System.out.println(<span class="hljs-string">"Printing evaluation report"</span>);
    }

}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ReportMain</span></span>{

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>{
        Report report = <span class="hljs-keyword">new</span> Report();
        report.print(); <span class="hljs-comment">// prints "Printing report"</span>

        EvaluationReport evaluationReport = <span class="hljs-keyword">new</span> EvaluationReport();
        evaluationReport.print(); <span class="hljs-comment">// prints "Printing evaluation report"</span>
    }
}
</code></pre>
                          </tip-box>
                          <p>üìé Resources:</p>
                          <ul>
                            <li><a href="https://www.tutorialspoint.com/java/java_overriding.htm">Java - Overriding</a> -- a tutorial by <a href="http://tutorialspoint.com">tutorialspoint.com</a></li>
                          </ul>
                        </div>
                      </tab>
                    
                      <tab header="Python">
                        <div>
                          <tip-box>
                            <p>üì¶ In the example below, <code>Student</code> class overrides the <code>print_info</code> method of its parent class <code>Person</code>:</p>
                            <table>
                              <tr>
                              
                                <td>
                                  <pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>:</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, name)</span>:</span>
    self.name = name
    
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_info</span><span class="hljs-params">(self)</span>:</span>
    print(<span class="hljs-string">'My name is'</span>, self.name)
    
</code></pre>
                                  <p></p>
                                </td>
                              
                                <td valign="bottom">¬†¬†<br><br></td>
                              
                                <td valign="bottom">
                                  <pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span><span class="hljs-params">(Person)</span>:</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, name, matric)</span>:</span>
    self.name = name
    self.matric = matric
    
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_info</span><span class="hljs-params">(self)</span>:</span>
    print(self.name, <span class="hljs-string">'is a student'</span>)
</code></pre>
                                  <p></p>
                                </td>
                              </tr>
                            </table>
                            <table>
                              <tr>
                              
                                <td>
                                  <pre><code class="hljs python">amy = Person(<span class="hljs-string">'Amy'</span>)
amy.print_info()

ben = Student(<span class="hljs-string">'Ben'</span>, <span class="hljs-string">'A12345'</span>)
ben.print_info()
</code></pre>
                                  <p></p>
                                </td>
                              
                                <td valign="bottom">¬†‚Üí¬†<br><br></td>
                              
                                <td valign="bottom">
                                  <pre class="hljs"><code>My name is Amy
Ben is a student
</code></pre>
                                  <p></p>
                                </td>
                              </tr>
                            </table>
                          </tip-box>
                        </div>
                      </tab>
                    </tabs>
                    <hr>
                  </div>
                  <div>
                    <div>
                      <panel header=":muscle: Exercises" expandable="">
                        <div>
                          <panel header=":lock::key: Which methods override?">
                            <question>
                              <p>Which of these methods override another method?</p>
                              <img src="/website-base/book/oopImplementation/overriding/images/overriding.png" height="220">
                              <p></p>
                              <ul class="task-list">
                                <li class="task-list-item"><input class="task-list-item-checkbox" type="checkbox"> a</li>
                                <li class="task-list-item"><input class="task-list-item-checkbox" type="checkbox"> b</li>
                                <li class="task-list-item"><input class="task-list-item-checkbox" type="checkbox"> c</li>
                                <li class="task-list-item"><input class="task-list-item-checkbox" type="checkbox"> d</li>
                                <li class="task-list-item"><input class="task-list-item-checkbox" type="checkbox"> e</li>
                              </ul>
                              <div slot="answer">
                                <p>d</p>
                                <p>Explanation: Method overriding requires a method in a <em>child class</em> to use the same method name and same parameter sequence used by one of its ancestors</p>
                              </div>
                            </question>
                          </panel>
                        </div>
                      </panel>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </modal>
          <tip-box>
            <p>üì¶ Consider the code below. The declared type of <code>s</code> is <code>Staff</code> and it appears as if the <code>adjustSalary(int)</code> operation of the <code>Staff</code> class is invoked.</p>
            <img src="/website-base/book/oopDesign/inheritance/dynamicAndStaticBinding/images/staff.png" height="150">
            <p></p>
            <pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">adjustSalary</span><span class="hljs-params">(<span class="hljs-keyword">int</span> byPercent)</span> </span>{
    <span class="hljs-keyword">for</span> (Staff s: staff) {
        s.adjustSalary(byPercent);
    }
}
</code></pre>
            <p>However, at runtime the <code>adjustSalary(int)</code> operation of the actual object will be called (i.e. <code>adjustSalary(int)</code> operation of <code>Admin</code> or <code>Academic</code>). If the actual object does not override that
              operation, the operation defined in the immediate superclass (in this case, <code>Staff</code> class) will be called.</p>
          </tip-box>
          <tip-box type="definition">
          
            <div>
              <p><strong>Static binding</strong> (aka early binding): When a method call is resolved at compile time.</p>
            </div>
          </tip-box>
          <p><strong>In contrast, <trigger trigger="click" for="modal:dynamicAndStatic-overloading">overloaded</trigger> methods are resolved using static binding.</strong></p>
          <modal large="" title="Textbook ¬ª" id="modal:dynamicAndStatic-overloading">
          
            <div>
              <div>
                <p>
                  <panel src="/website-base\book\oopDesign\inheritance\overloading\unit-inElsewhere-asFlat._include_.html" header="<span class='glyphicon glyphicon-education' aria-hidden='true'></span> %%OOP ‚Üí Inheritance ‚Üí Overloading%%" isOpen="false"
                    no-close="true" no-switch="true"></panel>
                </p>
              </div>
              <p></p>
              <p><span class="dimmed"><strong><span>Implementation ‚Üí Object Oriented Programming ‚Üí
</span></strong>
                </span>
              </p>
              <div id="title-and-body">
                <div>
                  <h4 id="implementing-overloading-one">Implementing Overloading <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0031-20e3.png"></h4>
                </div>
                <div id="main">
                  <div>
                    <p>An operation can be overloaded inside the same class or in sub/super classes.</p>
                    <tabs>
                    
                      <tab header="Java">
                        <div>
                          <tip-box>
                            <p>üì¶ The constructor of the <code>Account</code> class below is <em>overloaded</em> because there are two constructors with different signatures: <code>()</code> and <code>(String, String, double)</code>. Furthermore, the <code>save</code>                              method in the <code>Account</code> class is overloaded in the child class <code>SavingAccount</code>.</p>
                            <pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Account</span> </span>{
    Account () {
        ...
    }
    
    Account (String name, String number, <span class="hljs-keyword">double</span> balance) {
        ...
    }
    
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">save</span><span class="hljs-params">(<span class="hljs-keyword">int</span> amount)</span></span>{
        ...
    }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SavingAccount</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Account</span></span>{
    
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">save</span><span class="hljs-params">(Double amount)</span></span>{
        ...
    }
}
</code></pre>
                          </tip-box>
                          <p>üìé Resources:</p>
                          <ul>
                            <li><a href="https://www.javatpoint.com/method-overloading-in-java"><strong>Method Overloading in Java</strong></a> a tutorial from <a href="http://javatpoint.com">javatpoint.com</a>. Also mentions the topic of a related topic
                              <mark><em>type promotion</em></mark>.</li>
                          </ul>
                        </div>
                      </tab>
                    
                      <tab header="Python">
                        <div>
                          <p>‚ùóÔ∏è Python does not have direct support for method overloading.</p>
                        </div>
                      </tab>
                    </tabs>
                    <hr>
                    <p></p>
                  </div>
                  <div></div>
                </div>
              </div>
            </div>
          </modal>
          <tip-box>
            <p>üì¶ Note how the constructor is overloaded in the class below. The method call <code>new Account()</code> is bound to the first constructor at compile time.</p>
            <pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Account</span> </span>{
    Account () {
        <span class="hljs-comment">// Signature: ()</span>
        ...
    }
    Account (String name, String number, <span class="hljs-keyword">double</span> balance) {
        <span class="hljs-comment">// Signature: (String, String, double)</span>
        ...
    }
}
</code></pre>
            <p>üì¶ Similarly, the <code>calcuateGrade</code> method is overloaded in the code below and a method call <code>calculateGrade(&quot;A1213232&quot;)</code> is bound to the second implementation, at compile time.</p>
            <pre class="hljs"><code>void calculateGrade (int[] averages) { ... }
void calculateGrade (String matric) { ... }
</code></pre>
          </tip-box>
        </div>
        <div></div>
      </div>
    </div>
  </div>
</panel>
<panel type="info" header="`W9.2c` Can explain how substitutability operation overriding, and dynamic binding relates to polymorphism :star::star::star:" expanded="" no-close="">
  <div>
    <div>
      <p>
        <panel src="/website-base\book\oopImplementation\polymorphism\unit-inElsewhere-asFlat._include_.html" header="%%<span class='glyphicon glyphicon-education' aria-hidden='true'></span> Implementation ‚Üí Object Oriented Programming ‚Üí Polymorphism%%"
          isOpen="false" no-close="true" no-switch="true"></panel>
        <panel src="/website-base\book\oopDesign\inheritance\substitutability\unit-inElsewhere-asFlat._include_.html" header="%%<span class='glyphicon glyphicon-education' aria-hidden='true'></span> Design ‚Üí Object Oriented Programming ‚Üí Inheritance ‚Üí Substitutability%%"
          isOpen="false" no-close="true" no-switch="true"></panel>
        <panel src="/website-base\book\oopDesign\inheritance\dynamicAndStaticBinding\unit-inElsewhere-asFlat._include_.html" header="%%<span class='glyphicon glyphicon-education' aria-hidden='true'></span> Design ‚Üí Object Oriented Programming ‚Üí Inheritance ‚Üí Dynamic and Static Binding%%"
          isOpen="false" no-close="true" no-switch="true"></panel>
      </p>
    </div>
    <p></p>
    <p><span class="dimmed"><strong><span>Design ‚Üí Object Oriented Programming ‚Üí Polymorphism ‚Üí
</span></strong>
      </span>
    </p>
    <div id="title-and-body">
      <div>
        <h4 id="mechanism-three">Mechanism <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0033-20e3.png"></h4>
      </div>
      <div id="main">
        <div>
          <p><strong>Three concepts combine to achieve polymorphism: <em>substitutability, operation overriding, and dynamic binding</em>.</strong></p>
          <ul>
            <li><strong>Substitutability:</strong> Because of substitutability, you can write code that expects object of a parent class and yet use that code with objects of child classes. That is how polymorphism is able to <em>treat objects of different types as one type</em>.</li>
            <li><strong>Overriding:</strong> To get polymorphic behavior from an operation, the operation in the superclass needs to be overridden in each of the subclasses. That is how overriding allows objects of different sub classes to <em>display different behaviors in response to the same method call</em>.</li>
            <li><strong>Dynamic binding</strong>: Calls to overridden methods are bound to the implementation of the actual object's class dynamically during the runtime. That is how the polymorphic code can call the method of the parent class and yet execute
              the implementation of the child class.</li>
          </ul>
        </div>
        <div>
          <div>
            <panel header=":muscle: Exercises" expandable="">
              <div>
                <panel header=":lock::key: Concepts related to polymorphism">
                  <question>
                    <p>Which one of these is least related to how OO programs achieve polymorphism?</p>
                    <ul radio-group="8bdf8" class="radio-list">
                      <li class="radio-list-item"><label><input class="radio-list-input" name="8bdf8" type="radio"> a. substitutability</label></li>
                      <li class="radio-list-item"><label><input class="radio-list-input" name="8bdf8" type="radio"> b. dynamic binding</label></li>
                      <li class="radio-list-item"><label><input class="radio-list-input" name="8bdf8" type="radio"> c. operation overloading</label></li>
                      <li class="radio-list-item"><label><input class="radio-list-input" name="8bdf8" type="radio"> d. interfaces</label></li>
                      <li class="radio-list-item"><label><input class="radio-list-input" name="8bdf8" type="radio"> e. abstract classes</label></li>
                    </ul>
                    <div slot="answer">
                      <p>(c)</p>
                      <p>Explanation: Operation overriding is the one that is related, not operation overloading. Interfaces and abstract classes, although not <em>required</em>, can be used in achieving polymorphism.</p>
                    </div>
                  </question>
                </panel>
              </div>
            </panel>
          </div>
        </div>
      </div>
    </div>
  </div>
  <panel header="<span class='glyphicon glyphicon-folder-close' aria-hidden='true'></span> Evidence" expanded="">
    <p>Explain how substitutability operation overriding, and dynamic binding relates to polymorphism by taking a real example from the project.</p>
  </panel>
</panel>
<br>
<p><span class="dimmed"><strong>Design Approaches:</strong></span></p>
<panel type="info" header="`W9.2d` Can explain top-down and bottom-up design :star::star::star:" expanded="" no-close="">
  <div>
    <div></div>
    <p></p>
    <p><span class="dimmed"><strong><span>Design ‚Üí Introduction ‚Üí
</span></strong>
      </span>
    </p>
    <div id="title-and-body">
      <div>
        <h4 id="top-down-and-bottom-up-design-four">Top-Down and Bottom-Up Design <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0034-20e3.png"></h4>
      </div>
      <div id="main">
        <div>
          <p><strong>Multi-level design can be done in a top-down manner, bottom-up manner, or as a mix.</strong></p>
          <ul>
            <li>Top-down: Design the high-level design first and flesh out the lower levels later. This is especially useful when designing big and novel systems where the high-level design needs to be stable before lower levels can be designed.</li>
            <li>Bottom-up: Design lower level components first and put them together to create the higher-level systems later. This is not usually scalable for bigger systems. One instance where this approach might work is when designing a variations of an
              existing system or re-purposing existing components to build a new system.</li>
            <li>Mix: Design the top levels using the top-down approach but switch to a bottom-up approach when designing the bottom levels.</li>
          </ul>
        </div>
        <div>
          <div>
            <panel header=":muscle: Exercises" expandable="">
              <div>
                <panel header=":lock::key: Which is better?">
                  <question>
                    <p>Top-down design is better than bottom-up design.</p>
                    <ul radio-group="81698" class="radio-list">
                      <li class="radio-list-item"><label><input class="radio-list-input" name="81698" type="radio"> True</label></li>
                      <li class="radio-list-item"><label><input class="radio-list-input" name="81698" type="radio"> False</label></li>
                    </ul>
                    <div slot="answer">
                      <p>False</p>
                      <p>Explanation: Not necessarily. It depends on the situation. Bottom-up design may be preferable when there are lot of existing components we want to reuse.</p>
                    </div>
                  </question>
                </panel>
              </div>
            </panel>
          </div>
        </div>
      </div>
    </div>
  </div>
</panel>
<panel type="info" header="`W9.2e` Can explain agile design :star::star::star:" expanded="" no-close="">
  <div>
    <div></div>
    <p></p>
    <p><span class="dimmed"><strong><span>Design Approaches ‚Üí Agile Design ‚Üí
</span></strong>
      </span>
    </p>
    <div id="title-and-body">
      <div>
        <h4 id="agile-design-four">Agile Design <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0034-20e3.png"></h4>
      </div>
      <div id="main">
        <div>
          <p><strong><em>Agile design</em> can be contrasted with <em>full upfront design</em> in the following way</strong>:</p>
          <blockquote>
            <p><strong>Agile designs are emergent, they‚Äôre not defined up front.</strong> Your overall system design will emerge over time, evolving to fulfill new requirements and take advantage of new technologies as appropriate. Although you will often
              do <strong>some initial architectural modeling at the very beginning</strong> of a project, this will be just enough to get your team going. This approach does not produce a fully documented set of models in place before you may begin coding.
              <sub>-- adapted from <a href="http://agilemodeling.com/essays/agileDesign.htm">agilemodeling.com</a></sub></p>
          </blockquote>
        </div>
        <div>
          <div>
            <panel header=":muscle: Exercises" expandable="">
              <div>
                <panel header=":lock::key: Statement about agile design">
                  <question>
                    <p>Agile design camp expects the design to change over the product‚Äôs lifetime.</p>
                    <ul radio-group="07214" class="radio-list">
                      <li class="radio-list-item"><label><input class="radio-list-input" name="07214" type="radio"> True</label></li>
                      <li class="radio-list-item"><label><input class="radio-list-input" name="07214" type="radio"> False</label></li>
                    </ul>
                    <div slot="answer">
                      <p>True</p>
                      <p>Explanation: Yes, that is why they do not believe in spending too much time creating a detailed and full design at the very beginning. However, the architecture is expected to remain relatively stable even in the agile design approach.</p>
                    </div>
                  </question>
                </panel>
              </div>
            </panel>
          </div>
        </div>
      </div>
    </div>
  </div>
</panel>
<br>
<p><span class="dimmed"><strong>More Design Principles:</strong></span></p>
<panel type="info" header="`W9.2f` Can explain Liskov Substitution Principle :star::star::star:" expanded="" no-close="">
  <div>
    <div></div>
    <p></p>
    <p><span class="dimmed"><strong><span>Supplmentary ‚Üí Principles ‚Üí
</span></strong>
      </span>
    </p>
    <div id="title-and-body">
      <div>
        <h4 id="liskov-substitution-principle-three">Liskov Substitution Principle <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0033-20e3.png"></h4>
      </div>
      <div id="main">
        <div>
          <tip-box type="definition">
            <div>
              <p><strong>Liskov Substitution Principle (LSP)</strong>: Derived classes must be substitutable for their base classes. <sub>-- proposed by <a href="https://en.wikipedia.org/wiki/Barbara_Liskov">Barbara Liskov</a></sub></p>
            </div>
          </tip-box>
          <p>LSP sounds same as
            <trigger large="" trigger="click" for="modal:lsp-substitutability">substitutability</trigger> but it goes beyond substitutability; <strong>LSP implies that a subclass should not be more restrictive than the behavior specified by the superclass.</strong> As we know, Java has language support for substitutability.
            However, if LSP is not followed, substituting a subclass object for a superclass object can break the functionality of the code.</p>
          <modal large="" title="Textbook ¬ª" id="modal:lsp-substitutability">
          
            <div>
              <div>
                <p>
                  <panel src="/website-base\book\oopDesign\inheritance\what\unit-inElsewhere-asFlat._include_.html" header="%%<span class='glyphicon glyphicon-education' aria-hidden='true'></span> Design ‚Üí Object Oriented Programming ‚Üí Inheritance ‚Üí What%%"
                    isOpen="false" no-close="true" no-switch="true"></panel>
                </p>
              </div>
              <p></p>
              <p><span class="dimmed"><strong><span>Design ‚Üí Object Oriented Programming ‚Üí Inheritance ‚Üí
</span></strong>
                </span>
              </p>
              <div id="title-and-body">
                <div>
                  <h4 id="substitutability-two-2">Substitutability <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0032-20e3.png"></h4>
                </div>
                <div id="main">
                  <div>
                    <p><strong>Every instance of a subclass is an instance of the superclass, but not vice-versa.</strong> As a result, inheritance allows <em>substitutability</em> : the ability to substitute a child class object where a parent class object
                      is expected.</p>
                    <tip-box>
                      <img src="/website-base/book/oopDesign/inheritance/substitutability/images/staff.png" height="80">
                      <p></p>
                      <p>üì¶ an <code>Academic</code> is an instance of a <code>Staff</code>, but a <code>Staff</code> is not necessarily an instance of an <code>Academic</code>. i.e. wherever an object of the superclass is expected, it can be substituted
                        by an object of any of its subclasses.</p>
                      <p>The following code is valid because an <code>AcademicStaff</code> object is substitutable as a <code>Staff</code> object.</p>
                      <pre><code class="hljs java">Staff staff = <span class="hljs-keyword">new</span> AcademicStaff (); <span class="hljs-comment">// OK</span>
</code></pre>
                      <p>But the following code is not valid <span class="dimmed">¬†because <code>staff</code> is declared as a <code>Staff</code> type and therefore its value may or may not be of  type <code>AcademicStaff</code>, which is the type expected by variable <code>academicStaff</code>.</span></p>
                      <pre class="hljs"><code>Staff staff;
...
AcademicStaff academicStaff = staff; // Not OK
</code></pre>
                    </tip-box>
                  </div>
                  <div></div>
                </div>
              </div>
            </div>
          </modal>
          <tip-box>
            <p>üì¶ Suppose the <code>Payroll</code> class depends on the <code>adjustMySalary(int percent)</code> method of the <code>Staff</code> class. Furthermore, the <code>Staff</code> class states that the <code>adjustMySalary</code> method will work
              for all positive percent values. Both <code>Admin</code> and <code>Academic</code> classes override the <code>adjustMySalary</code> method.</p>
            <img src="/website-base/book/principles/liskovSubstitutionPrinciple/images/payroll.png" height="200">
            <p></p>
            <p>Now consider the following:</p>
            <ul>
              <li><code>Admin#adjustMySalary</code> method works for both negative and positive percent values.</li>
              <li><code>Academic#adjustMySalary</code> method works for percent values <code>1..100</code> only.</li>
            </ul>
            <p>In the above scenario,</p>
            <ul>
              <li><code>Admin</code> class follows LSP because it fulfills <code>Payroll</code>‚Äôs expectation of <code>Staff</code> objects (i.e. it works for all positive values). Substituting <code>Admin</code> objects for Staff objects will not break the
                <code>Payroll</code> class functionality.</li>
              <li><code>Academic</code> class violates LSP because it will not work for percent values over <code>100</code> as expected by the <code>Payroll</code> class. Substituting <code>Academic</code> objects for <code>Staff</code> objects can potentially
                break the <code>Payroll</code> class functionality.</li>
            </ul>
            <panel type="seamless" header="%%Another example%%">
              <p>üì¶ The <code>Rectangle#resize()</code> can take any integers for <code>height</code> and <code>width</code>. This contract is violated by the subclass <code>Square#resize()</code> because it does not accept a <code>height</code> that is
                different from the <code>width</code>.</p>
              <img src="/website-base/book/principles/liskovSubstitutionPrinciple/images/rectangleSquare.png" height="120">
              <p></p>
              <pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Rectangle</span> </span>{
    ...
    <span class="hljs-comment">/** sets the size to given height and width*/</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">resize</span><span class="hljs-params">(<span class="hljs-keyword">int</span> height, <span class="hljs-keyword">int</span> width)</span></span>{
        ...
    }
}


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Square</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Rectangle</span> </span>{
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">resize</span><span class="hljs-params">(<span class="hljs-keyword">int</span> height, <span class="hljs-keyword">int</span> width)</span></span>{
        <span class="hljs-keyword">if</span> (height != width) {
            <span class="hljs-comment">//error</span>
       }
    }
}
</code></pre>
              <p>Now consider the following method that is written to work with the <code>Rectangle</code> class.</p>
              <pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">makeSameSize</span><span class="hljs-params">(Rectangle original, Rectangle toResize)</span></span>{
    toResize.resize(original.getHeight(), original.getWidth());
}
</code></pre>
              <p>This code will fail if it is called as <code>maekSameSize(new Rectangle(12,8), new Square(4, 4))</code> That is, <code>Square</code> class is not substitutable for the <code>Rectangle</code> class.</p>
            </panel>
          </tip-box>
        </div>
        <div>
          <div>
            <panel header=":muscle: Exercises" expandable="">
              <div>
                <panel header=":lock::key: Is this LSP?">
                  <question>
                    <p>If a subclass imposes more restrictive conditions than its parent class, it violates Liskov Substitution Principle.</p>
                    <ul radio-group="55ada" class="radio-list">
                      <li class="radio-list-item"><label><input class="radio-list-input" name="55ada" type="radio"> True</label></li>
                      <li class="radio-list-item"><label><input class="radio-list-input" name="55ada" type="radio"> False</label></li>
                    </ul>
                    <div slot="answer">
                      <p>True.</p>
                      <p>Explanation: If the subclass is more restrictive than the parent class, code that worked with the parent class may not work with the child class. Hence, the substitutability does not exist and LSP has been violated.</p>
                    </div>
                  </question>
                </panel>
              </div>
            </panel>
          </div>
        </div>
      </div>
    </div>
  </div>
  <panel header="<span class='glyphicon glyphicon-folder-close' aria-hidden='true'></span> Evidence" expanded="">
    <p>Give an example from the project where LSP is followed. Explain what kind of a change to that code will violate LSP <span class="dimmed">¬†e.g. Here, the superclass X and the subclass Y follow LSP. But if we change X in this way, or Y in this way, it will no longer follow LSP</span></p>
  </panel>
</panel>
<panel type="success" header="`W9.2g` Can explain interface segregation principle :star::star::star::star:" expanded="" no-close="">
  <div>
    <div></div>
    <p></p>
    <p><span class="dimmed"><strong><span>Supplmentary ‚Üí Principles ‚Üí
</span></strong>
      </span>
    </p>
    <div id="title-and-body">
      <div>
        <h4 id="interface-segregation-principle-four">Interface Segregation Principle <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0034-20e3.png"></h4>
      </div>
      <div id="main">
        <div>
          <tip-box type="definition">
            <div>
              <p><strong>Interface Segregation Principle (ISP)</strong>: No client should be forced to depend on methods it does not use.</p>
            </div>
          </tip-box>
          <tip-box>
            <p>üì¶ The <code>Payroll</code> class should not depend on the <code>AdminStaff</code> class because it does not use the <code>arrangeMeeting()</code> method. Instead, it should depend on the <code>SalariedStaff</code> interface.</p>
            <pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Payroll</span> </span>{
    <span class="hljs-comment">//...    </span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">adjustSalaries</span><span class="hljs-params">(AdminStaff adminStaff)</span></span>{ <span class="hljs-comment">//violates ISP</span>
        <span class="hljs-comment">//...</span>
    }

}
</code></pre>
            <pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Payroll</span> </span>{
    <span class="hljs-comment">//...    </span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">adjustSalaries</span><span class="hljs-params">(SalariedStaff staff)</span></span>{ <span class="hljs-comment">//does not violate ISP</span>
        <span class="hljs-comment">//...</span>
    }
}
</code></pre>
            <img src="/website-base/book/principles/interfaceSegregationPrinciple/images/payroll.png" height="200">
            <p></p>
          </tip-box>
        </div>
        <div></div>
      </div>
    </div>
  </div>
</panel>
<panel type="success" header="`W9.2h` Can explain dependency inversion principle (DIP) :star::star::star::star:" expanded="" no-close="">
  <div>
    <div></div>
    <p></p>
    <p><span class="dimmed"><strong><span>Supplmentary ‚Üí Principles ‚Üí
</span></strong>
      </span>
    </p>
    <div id="title-and-body">
      <div>
        <h4 id="dependency-inversion-principle-one">Dependency Inversion Principle <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0031-20e3.png"></h4>
      </div>
      <div id="main">
        <div>
          <p>The <em>Dependency Inversion Principle</em> states that,</p>
          <ol>
            <li>High-level modules should not depend on low-level modules. Both should depend on abstractions.</li>
            <li>Abstractions should not depend on details. Details should depend on abstractions.</li>
          </ol>
          <tip-box>
            <p>Example:</p>
            <img src="/website-base/book/principles/dependencyInversionPrinciple/images/payrollEmployee.png" height="130">
            <p></p>
            <p>In design (a), the higher level class <code>Payroll</code> depends on the lower level class <code>Employee</code>, a violation of DIP. In design (b), both <code>Payroll</code> and <code>Employee</code> depends on the Payee interface (note
              that inheritance is a dependency).</p>
            <p>Design (b) is more flexible (and less coupled) because now the <code>Payroll</code> class need not change when the <code>Employee</code> class changes.</p>
          </tip-box>
        </div>
        <div>
          <div>
            <panel header=":muscle: Exercises" expandable="">
              <div>
                <panel header=":lock::key: Which of these statements is true about the Dependency Inversion Principle.">
                  <question>
                    <p>Which of these statements is true about the Dependency Inversion Principle.</p>
                    <ul class="task-list">
                      <li class="task-list-item"><input class="task-list-item-checkbox" type="checkbox"> a. It can complicate the design/implementation by introducing extra abstractions, but it has some benefits.</li>
                      <li class="task-list-item"><input class="task-list-item-checkbox" type="checkbox"> b. It is often used during testing, to replace dependencies with mocks.</li>
                      <li class="task-list-item"><input class="task-list-item-checkbox" type="checkbox"> c. It reduces dependencies in a design.</li>
                      <li class="task-list-item"><input class="task-list-item-checkbox" type="checkbox"> d. It advocates making higher level classes to depend on lower level classes.</li>
                    </ul>
                    <div slot="answer">
                      <ul class="task-list">
                        <li class="task-list-item"><input class="task-list-item-checkbox" checked type="checkbox"> a. It can complicate the design/implementation by introducing extra abstractions, but it has some benefits.</li>
                        <li class="task-list-item"><input class="task-list-item-checkbox" type="checkbox"> b. It is often used during testing, to replace dependencies with mocks.</li>
                        <li class="task-list-item"><input class="task-list-item-checkbox" type="checkbox"> c. It reduces dependencies in a design.</li>
                        <li class="task-list-item"><input class="task-list-item-checkbox" type="checkbox"> d. It advocates making higher level classes to depend on lower level classes.</li>
                      </ul>
                      <p>Explanation: Replacing dependencies with mocks is Dependency Injection, not DIP. DIP does not reduce dependencies, rather, it changes the direction of dependencies. Yes, it can introduce extra abstractions but often the benefit can
                        outweigh the extra complications.</p>
                    </div>
                  </question>
                </panel>
              </div>
            </panel>
          </div>
        </div>
      </div>
    </div>
  </div>
</panel>