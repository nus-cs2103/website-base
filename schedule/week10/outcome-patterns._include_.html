<p><span class="dimmed"><strong>Introduction:</strong></span></p>
<panel type="danger" header="`W10.3a` Can explain design patterns :star:" expanded="" no-close="">
  <div>
    <div></div>
    <p></p>
    <p><span class="dimmed"><strong><span>Design â†’ Design Patterns â†’ Introduction â†’
</span></strong>
      </span>
    </p>
    <div id="title-and-body">
      <div>
        <h4 id="what-one">What <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0031-20e3.png"></h4>
      </div>
      <div id="main">
        <div>
          <tip-box type="definition">
            <div>
              <p><strong>Design Pattern</strong> : An <em>elegant reusable solution</em> to a <em>commonly recurring problem</em> within a <em>given context</em> in software design.</p>
            </div>
          </tip-box>
          <p>In software development, there are certain problems that recur in a certain context.</p>
          <tip-box>
            <p>ðŸ“¦ Some examples of recurring design problems:</p>
            <table class="markbind-table table table-bordered table-striped">
              <thead>
                <tr>
                  <th>Design Context</th>
                  <th>Recurring Problem</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Assembling a system that makes use of other existing systems implemented using different technologies</td>
                  <td>What is the best architecture?</td>
                </tr>
                <tr>
                  <td>UI needs to be updated when the data in application backend changes</td>
                  <td>How to initiate an update to the UI when data changes without coupling the backend to the UI?</td>
                </tr>
              </tbody>
            </table>
          </tip-box>
          <p>After repeated attempts at solving such problems, better solutions are discovered and refined over time. These solutions are known as design patterns, **a term popularized by the seminal book <em>Design Patterns: Elements of Reusable Object-Oriented Software</em>            by the so-called <a href="https://en.wikipedia.org/wiki/Design_Patterns">&quot;Gang of Four&quot;** (GoF) book written by Eric Gamma, Richard Helm, Ralph Johnson,and John Vlissides</a></p>
        </div>
        <div>
          <div>
            <panel header=":muscle: Exercises" expandable="">
              <div>
                <panel header=":lock::key: Definition of design patterns">
                  <question>
                    <p>Which one of these describes the â€˜software design patternsâ€™ concept best?</p>
                    <ul radio-group="a7255" class="radio-list">
                      <li class="radio-list-item"><label><input class="radio-list-input" name="a7255" type="radio"> a. Designs that appear repetitively in software.</label></li>
                      <li class="radio-list-item"><label><input class="radio-list-input" name="a7255" type="radio"> b. Elegant solutions to recurring problems in software design.</label></li>
                      <li class="radio-list-item"><label><input class="radio-list-input" name="a7255" type="radio"> c. Architectural styles used in applications.</label></li>
                      <li class="radio-list-item"><label><input class="radio-list-input" name="a7255" type="radio"> d. Some good design techniques proposed by the Gang of Four</label></li>
                    </ul>
                    <div slot="answer">
                      <p>(b)</p>
                    </div>
                  </question>
                </panel>
              </div>
            </panel>
          </div>
        </div>
      </div>
    </div>
  </div>
</panel>
<panel type="danger" header="`W10.3b` Can explain design patterns format :star:" expanded="" no-close="">
  <div>
    <div></div>
    <p></p>
    <p><span class="dimmed"><strong><span>Design â†’ Design Patterns â†’ Introduction â†’
</span></strong>
      </span>
    </p>
    <div id="title-and-body">
      <div>
        <h4 id="format-two">Format <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0032-20e3.png"></h4>
      </div>
      <div id="main">
        <div>
          <p>The common format to describe a pattern consists of the following components:</p>
          <ul>
            <li><strong>Context</strong>: The situation or scenario where the design problem is encountered.</li>
            <li><strong>Problem</strong>: The main difficulty to be resolved.</li>
            <li><strong>Solution</strong>: The core of the solution. It is important to note that the solution presented only includes the most general details, which may need further refinement for a specific context.</li>
            <li><strong>Anti-patterns</strong> (optional): Commonly used solutions, which are usually incorrect and/or inferior to the Design Pattern.</li>
            <li><strong>Consequences</strong> (optional): Identifying the pros and cons of applying the pattern.</li>
            <li><strong>Other useful information</strong> (optional): Code examples, known uses, other related patterns, etc.</li>
          </ul>
        </div>
        <div>
          <div>
            <panel header=":muscle: Exercises" expandable="">
              <div>
                <panel header=":lock::key: Anti-patterns required?">
                  <question>
                    <p>When we describe a pattern, we must also specify anti-patterns.</p>
                    <ul radio-group="2350f" class="radio-list">
                      <li class="radio-list-item"><label><input class="radio-list-input" name="2350f" type="radio"> True</label></li>
                      <li class="radio-list-item"><label><input class="radio-list-input" name="2350f" type="radio"> False</label></li>
                    </ul>
                    <div slot="answer">
                      <p>False.</p>
                      <p>Explanation: Anti-patterns are related to patterns, but they are not a â€˜must haveâ€™ component of a pattern description.</p>
                    </div>
                  </question>
                </panel>
              </div>
            </panel>
          </div>
        </div>
      </div>
    </div>
  </div>
</panel>
<br>
<p><span class="dimmed"><strong>Singleton pattern:</strong></span></p>
<panel type="danger" header="`W10.3c` Can explain the Singleton design pattern :star:" expanded="" no-close="">
  <div>
    <div></div>
    <p></p>
    <p><span class="dimmed"><strong><span>Design â†’ Design Patterns â†’ Singleton â†’
</span></strong>
      </span>
    </p>
    <div id="title-and-body">
      <div>
        <h4 id="what-two">What <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0032-20e3.png"></h4>
      </div>
      <div id="main">
        <div>
          <p><strong>Context</strong></p>
          <p>A certain classes should have no more than just one instance (e.g. the main controller class of the system). These single instances are commonly known as <em>singletons</em>.</p>
          <p><strong>Problem</strong></p>
          <p>A normal class can be instantiated multiple times by invoking the constructor.</p>
          <p><strong>Solution</strong></p>
          <p>Make the constructor of the singleton class <code>private</code>, <span class="dimmed">Â because a <code>public</code> constructor will allow others to instantiate the class at will</span>. Provide a <code>public</code> class-level method to
            access the <em>single instance</em>.</p>
          <tip-box>
            <p>Example:</p>
            <img src="/website-base/book/designPatterns/singleton/what/images/singleton.png" height="130">
            <p></p>
          </tip-box>
        </div>
        <div>
          <div>
            <panel header=":muscle: Exercises" expandable="">
              <div>
                <panel header=":lock::key: Statements about the Singleton pattern">
                  <question>
                    <p>We use the Singleton pattern when</p>
                    <ul radio-group="d9393" class="radio-list">
                      <li class="radio-list-item"><label><input class="radio-list-input" name="d9393" type="radio"> a. we want an a class with a private constructor.</label></li>
                      <li class="radio-list-item"><label><input class="radio-list-input" name="d9393" type="radio"> b. we want a single class to hold all functionality of the system.</label></li>
                      <li class="radio-list-item"><label><input class="radio-list-input" name="d9393" type="radio"> c. we want a class with no more than one instance.</label></li>
                      <li class="radio-list-item"><label><input class="radio-list-input" name="d9393" type="radio"> d. we want to hide internal structure of a component from its clients.</label></li>
                    </ul>
                    <div slot="answer">
                      <p>(c)</p>
                    </div>
                  </question>
                </panel>
              </div>
            </panel>
          </div>
        </div>
      </div>
    </div>
  </div>
  <panel header="<span class='glyphicon glyphicon-folder-close' aria-hidden='true'></span> Evidence" expanded="">
    <p>Identify where in the project Singleton pattern can be used.</p>
  </panel>
</panel>
<panel type="warning" header="`W10.3d` Can apply the Singleton design pattern :star::star:" expanded="" no-close="">
  <div>
    <div></div>
    <p></p>
    <p><span class="dimmed"><strong><span>Design â†’ Design Patterns â†’ Singleton â†’
</span></strong>
      </span>
    </p>
    <div id="title-and-body">
      <div>
        <h4 id="implementation-two">Implementation <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0032-20e3.png"></h4>
      </div>
      <div id="main">
        <div>
          <p>Here is the typical implementation of how the Singleton pattern is applied to a class:</p>
          <pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Logic</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Logic theOne = <span class="hljs-keyword">null</span>;

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Logic</span><span class="hljs-params">()</span> </span>{
        ...
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Logic <span class="hljs-title">getInstance</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">if</span> (theOne == <span class="hljs-keyword">null</span>) {
            theOne = <span class="hljs-keyword">new</span> Logic();
        }
        <span class="hljs-keyword">return</span> theOne;
    }
}
</code></pre>
          <p>Notes:</p>
          <ul>
            <li>The constructor is <code>private</code>, which prevents instantiation from outside the class.</li>
            <li>The single instance of the singleton class is maintained by a <code>private</code> class-level variable.</li>
            <li>Access to this object is provided by a <code>public</code> class-level operation <code>getInstance()</code> which instantiates a single copy of the singleton class when it is executed for the first time. Subsequent calls to this operation
              return the single instance of the class.</li>
          </ul>
          <p>If <code>Logic</code> was not a Singleton class, an object is created like this:</p>
          <pre><code class="hljs java">Logic m = <span class="hljs-keyword">new</span> Logic();
</code></pre>
          <p>But now, the <code>Logic</code> object needs to be accessed like this:</p>
          <pre><code class="hljs java">Logic m = Logic.getInstance();
</code></pre>
        </div>
        <div></div>
      </div>
    </div>
  </div>
  <panel header="<span class='glyphicon glyphicon-folder-close' aria-hidden='true'></span> Evidence" expanded="">
    <p>Identify where in the project Singleton pattern has been used. Apply singleton pattern somewhere (in a toy example or in a project)</p>
  </panel>
</panel>
<panel type="info" header="`W10.3e` Can decide when to apply Singleton design pattern :star::star::star:" expanded="" no-close="">
  <div>
    <div></div>
    <p></p>
    <p><span class="dimmed"><strong><span>Design â†’ Design Patterns â†’ Singleton â†’
</span></strong>
      </span>
    </p>
    <div id="title-and-body">
      <div>
        <h4 id="evaluation-three">Evaluation <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0033-20e3.png"></h4>
      </div>
      <div id="main">
        <div>
          <p><strong>Pros:</strong></p>
          <ul>
            <li>easy to apply</li>
            <li>effective in achieving its goal with minimal extra work</li>
            <li>provides an easy way to access the singleton object from anywhere in the code base</li>
          </ul>
          <p><strong>Cons:</strong></p>
          <ul>
            <li>The singleton object acts like a global variable that increases coupling across the code base.</li>
            <li>In testing, it is difficult to replace Singleton objects with stubs (static methods cannot be overridden)</li>
            <li>In testing, singleton objects carry data from one test to another even when we want each test to be independent of the others.</li>
          </ul>
          <p>Given there are some significant cons, it is recommended that you apply the Singleton pattern when, in addition to requiring only one instance of a class, there is a risk of creating multiple objects by mistake, and creating such multiple objects
            has real negative consequences.</p>
        </div>
        <div></div>
      </div>
    </div>
  </div>
  <panel header="<span class='glyphicon glyphicon-folder-close' aria-hidden='true'></span> Evidence" expanded="">
    <p>Identify places in the project where only a single object of a class is needed but there is no need to apply the Singleton pattern.</p>
  </panel>
</panel>
<br>
<p><span class="dimmed"><strong>Facade pattern</strong></span></p>
<panel type="warning" header="`W10.3f` Can explain the Facade design pattern :star::star:" expanded="" no-close="">
  <div>
    <div></div>
    <p></p>
    <p><span class="dimmed"><strong><span>Design â†’ Design Patterns â†’ Facade Pattern â†’
</span></strong>
      </span>
    </p>
    <div id="title-and-body">
      <div>
        <h4 id="what-two-2">What <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0032-20e3.png"></h4>
      </div>
      <div id="main">
        <div>
          <p><strong>Context</strong></p>
          <p>Components need to access functionality deep inside other components.</p>
          <tip-box>
            <p>ðŸ“¦ The <code>UI</code> component of a <code>Library</code> system might want to access functionality of the <code>Book</code> class contained inside the <code>Logic</code> component.</p>
            <img src="/website-base/book/designPatterns/facade/what/images/textBook.png" height="120">
            <p></p>
          </tip-box>
          <p><strong>Problem</strong></p>
          <p>Access to the component should be allowed without exposing its internal details. <span class="dimmed">Â e.g.  the <code>UI</code> component should access the functionality of the <code>Logic</code> component without knowing that it contained a <code>Book</code> class within it.</span></p>
          <p><strong>Solution</strong></p>
          <p>Include a
            <tooltip content="a French word that means 'front of a building'">FaÃ§ade</tooltip> class that sits between the component internals and users of the component such that all access to the component happens through the Facade class.</p>
          <tip-box>
            <p>ðŸ“¦ The following class diagram applies the FaÃ§ade pattern to the <code>Library System</code> example. The <code>LibraryLogic</code> class is the Facade class.</p>
            <img src="/website-base/book/designPatterns/facade/what/images/textLibraryBook.png" height="120">
            <p></p>
          </tip-box>
        </div>
        <div>
          <div>
            <panel header=":muscle: Exercises" expandable="">
              <div>
                <panel header=":lock::key: Is this Facade?">
                  <question>
                    <p>Does the design below likely to use the Facade pattern?</p>
                    <img src="/website-base/book/designPatterns/facade/what/images/textStorage.png" height="150">
                    <p></p>
                    <ul radio-group="ac766" class="radio-list">
                      <li class="radio-list-item"><label><input class="radio-list-input" name="ac766" type="radio"> True</label></li>
                      <li class="radio-list-item"><label><input class="radio-list-input" name="ac766" type="radio"> False</label></li>
                    </ul>
                    <div slot="answer">
                      <p>True.</p>
                      <p>Facade is clearly visible (Storage is the &lt;&lt; Facade &gt;&gt; class).</p>
                    </div>
                  </question>
                </panel>
              </div>
            </panel>
          </div>
        </div>
      </div>
    </div>
  </div>
  <panel header="<span class='glyphicon glyphicon-folder-close' aria-hidden='true'></span> Evidence" expanded="">
    <p>Discuss the current/potential applications of the pattern in your project.</p>
  </panel>
</panel>
<br>
<p><span class="dimmed"><strong>Command pattern</strong></span></p>
<panel type="info" header="`W10.3g` Can explain the Command design pattern :star::star::star:" expanded="" no-close="">
  <div>
    <div></div>
    <p></p>
    <p><span class="dimmed"><strong><span>Design â†’ Design Patterns â†’ Command Pattern â†’
</span></strong>
      </span>
    </p>
    <div id="title-and-body">
      <div>
        <h4 id="what-two-3">What <img style="height: 1em;width: 1em;margin: 0 .05em 0 .1em;vertical-align: -0.1em;" src="https://assets-cdn.github.com/images/icons/emoji/unicode/0032-20e3.png"></h4>
      </div>
      <div id="main">
        <div>
          <p><strong>Context</strong></p>
          <p>A system is required to execute a number of commands, each doing a different task. For example, a system might have to support <code>Sort</code>, <code>List</code>, <code>Reset</code> commands.</p>
          <p><strong>Problem</strong></p>
          <p>It is preferable that some part of the code executes these commands without having to know each command type. <span class="dimmed">Â e.g., there can be a <code>CommandQueue</code> object that is responsible for queuing commands and executing them without knowledge of what each command does.</span></p>
          <p><strong>Solution</strong></p>
          <p>The essential element of this pattern is to have a general <code>&lt;&lt; Command &gt;&gt;</code> object that can be passed around, stored, executed, etc without knowing the type of command (i.e. via polymorphism).</p>
          <p>Let us examine an example application of the pattern first:</p>
          <tip-box>
            <p>ðŸ“¦ In the example solution below, the <code>CommandCreator</code> creates <code>List</code>, <code>Sort</code>, and <code>Reset Command</code> objects and adds them to the <code>CommandQueue</code> object. The <code>CommandQueue</code> object
              treats them all as <code>Command</code> objects and performs the execute/undo operation on each of them without knowledge of the specific <code>Command</code> type. When executed, each <code>Command</code> object will access the <code>DataStore</code>              object to carry out its task. The <code>Command</code> class can also be an abstract class or an interface.</p>
            <img src="/website-base/book/designPatterns/command/what/images/commandCreator.png" height="150">
            <p></p>
          </tip-box>
          <p>The general form of the solution is as follows.</p>
          <img src="/website-base/book/designPatterns/command/what/images/clientInvoker.png" height="200">
          <p></p>
          <p>The <code>&lt;&lt; Client &gt;&gt;</code> creates a <code>&lt;&lt; ConcreteCommand &gt;&gt;</code> object, and passes it to the <code>&lt;&lt; Invoker &gt;&gt;</code>. The <code>&lt;&lt; Invoker &gt;&gt;</code> object treats all commands as
            a general <code>&lt;&lt; Command &gt;&gt;</code> type. <code>&lt;&lt; Invoker &gt;&gt;</code> issues a request by calling <code>execute()</code> on the command. If a command is undoable, <code>&lt;&lt; ConcreteCommand &gt;&gt;</code> will
            store the state for undoing the command prior to invoking <code>execute()</code>. In addition, the <code>&lt;&lt; ConcreteCommand &gt;&gt;</code> object may have to be linked to any <code>&lt;&lt; Receiver &gt;&gt;</code> of the command (
            <tooltip
              content="the object the command will operate on, in case different commands operate on different objects">?</tooltip>) before it is passed to the <code>&lt;&lt; Invoker &gt;&gt;</code>. Note that an application of the command pattern does not have to follow the structure given above.</p>
        </div>
        <div></div>
      </div>
    </div>
  </div>
  <panel header="<span class='glyphicon glyphicon-folder-close' aria-hidden='true'></span> Evidence" expanded="">
    <p>Discuss the current/potential applications of the pattern in your project.</p>
  </panel>
</panel>